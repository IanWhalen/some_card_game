<template name="board">
  {{#if show}}
  <div id="board">
    {{> main_canvas}}
    {{> sidebar}}
    {{> history}}
    {{> moddedDialog}}
  </div>
  {{/if}}
</template>


<template name="main_canvas">
  <div id="main_canvas_div">
    <canvas id="main_canvas" width="{{canvasWidth}}" height="{{canvasHeight}}"></canvas>
  </div>
</template>


<template name="history">
  <div id="history">
    {{#each logLines}}
    <p>{{this}}</p>
    {{/each }}
  </div>
</template>


<template name="sidebar">
  <div id="sidebar">
    <div id="magnifier-container">
      <img id="magnifier">
    </div>
    {{> sidebarStats}}
    {{> actionChoices}}
  </div>
</template>

<template name="sidebarStats">
  <div class="sidebarStats enabled" id="gameStats">
    <p><strong>Turn: </strong> {{currentTurn}}</p>
  </div>
  <div class="sidebarStats {{runnerIsActivePlayer}}" id="runnerStats">
    <p><strong><u>Runner Stats</u></strong></p>
    <p>
      <strong>Score: </strong>{{runnerScore}}
      <strong> Credits: </strong>{{runnerCredits}}
      <strong> Clicks: </strong>{{runnerClicks}}
    </p>
  </div>
  <div class="sidebarStats {{corpIsActivePlayer}}" id="corpStats">
    <p><strong><u>Corp Stats</u></strong></p>
    <p>
      <strong>Score: </strong>{{corpScore}}
      <strong> Credits: </strong>{{corpCredits}}
      <strong> Clicks: </strong>{{corpClicks}}
    </p>
  </div>
</template>

<template name="actionChoices">
  <div class="actionContainer">
    {{#if onlyOneCard}}
    <p><strong>{{ cardName }}</strong></p>
    <p>{{ cardDescription }}</p>
    {{#each actions}}
    <div>
      <button class="action-button" data-action="{{ getActionName this }}">{{ getActionText this }}</button>
    </div>
    {{/each}}
    {{else}}
    <p><strong>Default {{playerSide}} Choices</strong></p>
    <button id="drawCard">Draw a card</button>
    <button id="gainCredit">Gain 1 credit</button>
    <button id="endTurn">End Your Turn</button>
    {{/if}}
  </div>
</template>

<template name='moddedDialog'>
  <div id="moddedDialog" title="{{title}}" class='hidden no-close'>
    <p>{{description}}</p>
    <div>
      {{#each cardChoices}}
      <div class='card-choice'>
        <img class='card-choice-img' src='{{ src }}'>
        <button class='action-button' data-id='{{ _id }}' data-cardType='{{ cardType }}'>Install {{ name }}</button>
      </div>
      {{/each}}
    </div>
  </div>
</template>
